# Code-Orchestrator-Service Dependencies
# WBS 1.1.3: Required packages per WBS_IMPLEMENTATION.md

# FastAPI Framework
fastapi>=0.109.0
uvicorn[standard]>=0.27.0
pydantic>=2.5.0
pydantic-settings>=2.1.0  # Required per CODING_PATTERNS_ANALYSIS.md anti-pattern #287

# HuggingFace Models (CodeT5+, GraphCodeBERT, CodeBERT)
transformers>=4.36.0
torch>=2.1.0
sentence-transformers>=2.2.2

# BERTopic for Topic Clustering (BERTOPIC_INTEGRATION_WBS.md)
# Pin versions to maintain compatibility with scikit-learn 1.3.x
# - bertopic 0.17.x pulls newer deps that require scikit-learn>=1.6
# - umap-learn 0.5.7+ requires scikit-learn>=1.6
# - hdbscan 0.8.41+ requires scikit-learn>=1.6
bertopic>=0.16.0,<0.17.0
hdbscan>=0.8.29,<0.8.41
umap-learn>=0.5.3,<0.5.7

# SBERT Dependencies (WBS 5.2 / M1.2)
# scikit-learn: Required for TF-IDF fallback when sentence-transformers unavailable
# Per Comp_Static_Analysis_Report #22: Use ~= for compatible release pinning
scikit-learn~=1.3.0

# HTTP Client (shared per anti-pattern #12)
httpx>=0.26.0

# Logging & Observability
structlog>=24.1.0
opentelemetry-api>=1.22.0
opentelemetry-sdk>=1.22.0
opentelemetry-instrumentation-fastapi>=0.43b0

# LangGraph for Agent Orchestration (Phase 3)
langgraph>=0.0.28

# HCE-2.0: YAKE + TextRank Ensemble Extraction
yake>=0.4.8
summa>=1.2.0

# HCE-4.0: SBERT + HDBSCAN Semantic Deduplication
# Note: hdbscan already installed (line 20) for bertopic, version constrained
# Using existing hdbscan>=0.8.29,<0.8.41 for scikit-learn 1.3.x compatibility
